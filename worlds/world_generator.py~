#!/usr/bin/python
import xml.etree.ElementTree as ET
#from lxml import etree as ET

import os,  re, sys, shutil
from copy import deepcopy
import random

# example file that is adapted:
template_world='template.world'
location='/home/klaas/sandbox_ws/src/sandbox/worlds/'

num_of_worlds = 1 #1000
directory=location+'sandboxes'

if not os.path.exists(directory):
    os.makedirs(directory)

model_list=[ m[:-1] for m in open(location+'models.txt').readlines()]

tree = ET.parse(location+template_world)
root = tree.getroot()
world = root.find('world')
y=-15
for x in range(-17,20,3):
	for y in range(-17,17,3):

for model_name in model_list:
  print(model_name)
  incl=ET.SubElement(world, 'include')
  ure=ET.SubElement(incl,'uri')
  ure.text='model://'+model_name
  pos=ET.SubElement(incl,'pose')
  pos.text='0 '+str(y)+' 0 0 0 0'
  y=y+1
tree.write("tmp.world", encoding="us-ascii", xml_declaration=True, method="xml")
